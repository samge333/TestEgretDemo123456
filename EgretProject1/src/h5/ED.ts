class PrivateEnvironmentData {
	user_info = {
		jade: "1002911",
		last_user_grade: "76",
		user_experience: "1834",
		forage: "9763",
		fighter_capacity: "1377",
		user_head: "7",
		capture_head: "0",
		user_gold: "405454",
		exploit: 0,
		user_head_id: "7",
		user_honour: "953669",
		change_name_number: {
			[1]: {
				[1]: "2",
			}
		},
		user_food_add_cd: "1528891082637",
		key_vip_level: "||18",
		key_user_gold: "||405454",
		user_name: "川上和泰",
		max_endurance: "0",
		capture_grade: "0",
		max_user_food: 155,
		misson_id: "2713",
		power_open_state: "-1,-1,-1,-1,-1,-1,-1,-1",
		speed_sum: 3368,
		key_user_all_gems: "||923682",
		user_force: "0",
		capture_vip_grade: "0",
		horse_spirits_patch: "0",
		key_user_grade: "||76",
		user_silver: "743338954",
		user_gender: "1",
		tiger_shaped: "0",
		user_food: "1160",
		friend_active: "0",
		fight_capacity: 1377,
		key_user_id: "||37",
		vip_level: "18",
		family_name: "",
		family_index: "0",
		user_invite: "",
		user_signature: "",
		user_fight: "6",
		user_iron: "0",
		union_contribute: "0",
		exploits: "0",
		mission_user_grade: 76,
		dragon_horse_patch: "0",
		user_all_gems: "923682",
		recharge_all_rmb: "1351340",
		dispatch_token: "0",
		create_time: "1516247580",
		talent_point: "9763",
		all_glories: "44330",
		capture_id: "0",
		endurance: "0",
		soul: "0",
		user_train_ship: "0",
		new_user_teach_record: {},
		user_grade: "76",
		user_train: "2",
		capture_name: "",
		user_id: "37",
		user_grade_need_experience: "15000",
		user_ship: "1",
		battleCache: null,
	};

	fightModule: FightModule;

	user_ship = {
		initial_sp_increase: 0,
		ship_health: 9642,
		evolution_status: "1|2,0,0,0",
		skill_mould: "661",
		captain_name: "1",
		history_info: "||964213.007003850.0",
		ship_courage: 700,
		ship_wisdom: "13.0",
		ship_grade: "11",
		courage_grade_type: "11.31",
		skill_name: "1",
		quick_grade_type: "0.0",
		awakenstates: "0,0,0,0",
		formation_index: "3",
		deadly_skill_mould: "3",
		ship_quick: "0.0",
		ship_intellect: 385,
		health_growup_type: "59.14",
		skillLevel: "1,1,1,1,1,1",
		Order: "1",
		ship_skin_info: "",
		ship_force: "0",
		awakenLevel: 0,
		ship_base_intellect: "385.68",
		ship_train_info: {
			train_physical_defence_temp: "0",
			train_skill_defence_temp: "0",
			train_life: "0",
			train_attack: "0",
			train_attack_temp: "0",
			train_skill_defence: "0",
			train_life_temp: "0",
			train_physical_defence: "0",
		},
		ship_skillstren: {
			skill_level: "1",
			skill_value: "0",
		},
		cart_describe: "1",
		talents: {
			[1]: {
				talent_id: "1873",
				is_activited: "0",
			},
			[2]: {
				talent_id: "1874",
				is_activited: "0",
			},
			[3]: {
				talent_id: "1875",
				is_activited: "0",
			},
			[4]: {
				talent_id: "1876",
				is_activited: "0",
			}
		},
		equipInfo: "10,1,1,1,47,55|0,0,0,0,7,8|0,0,0,0,270,1110|0,0,0,0,0,0|0,0,0,0,0,0",
		relationship: {
			[1]: {
				relationship_id: "321",
				is_activited: "0",
			},
			[2]: {
				relationship_id: "322",
				is_activited: "1",
			},
			[3]: {
				relationship_id: "323",
				is_activited: "1",
			},
			[4]: {
				relationship_id: "324",
				is_activited: "0"
			},
			[5]: {
				relationship_id: "325",
				is_activited: "0"
			}
		},
		relationship_count: "5",
		deadly_skill_describe: "1",
		ship_base_template_id: "56",
		ship_picture: "1",
		ship_id: "390",
		ship_leader: "0",
		intellect_grade_type: "4.7",
		equipment: {
			[1]: {
				ship_id: "0",
				user_equiment_id: "0"
			},
			[2]: {
				ship_id: "0",
				user_equiment_id: "0"
			},
			[3]: {
				ship_id: "0",
				user_equiment_id: "0"
			},
			[4]: {
				ship_id: "0",
				user_equiment_id: "0"
			},
			[5]: {
				ship_id: "0",
				user_equiment_id: "0"
			},
			[6]: {
				ship_id: "0",
				user_equiment_id: "0"
			},
			[7]: {
				ship_id: "0",
				user_equiment_id: "0"
			},
			[8]: {
				ship_id: "0",
				user_equiment_id: "0"
			}
		},
		deadly_skill_name: "1",
		train_endtime: "1516255728000",
		ship_base_health: "9642.82",
		ship_base_courage: "700.64087",
		ship_growup_exprience: "0",
		grade_need_exprience: "600",
		ship_place: "0",
		skill_describe: "1",
		train: "0",
		property_values: "33:0.1|23:13.0|34:10.1|9:1.1",
		StarRating: "1",
		exprience: "536",
		captain_type: "1",
		ship_fighting_spirit: "1,0|1,0|1,0|1,0",
		talent_count: "4",
		ship_name: "0",
		shipSpirit: "390:9,5,1,0,0",
		ship_type: "0",
		ship_template_id: "56",
		hero_fight: "1377"
	};

	// _heros:{[pos: number]: {[key: string]: any}} = {
	// 	2: {
	// 	  _hp: 9642,
	// 	  _max_hp: 9642,
	// 	  _mouldId: 56,
	// 	  _id: 390,
	// 	  _hero_speed: 26,
	// 	  _head: 105201,
	// 	  _fit_skill_id: 0,
	// 	  _evolution_level: 1,
	// 	  _quality: 0,
	// 	  _pos: 2,
	// 	  _name: "",
	// 	  _sp: 0,
	// 	  _scale: 1,
	// 	  _type: 0,
	// 	  _power_skill_id: 0,
	// 	}
	// };

	battleData: any;
}

class ED {
	public constructor() {
	}
	static data = new PrivateEnvironmentData;

	static parse_environment_fight_role_round_attack_data(str: string) {
		
	}

	static parser_func(type: string, str: string) {
		if (type == "parse_battle_field_init") {
			let data = JSON.parse(str);
			ED.data.battleData = data;

			HLog.log("战场初始化数据", ED.data.battleData);
		}
		else if (type == "parse_environment_fight_battle_start_influence_info") {
			let data = JSON.parse(str);
			HLog.log("战斗开始前的效用信息", data);
		}
	}
}

